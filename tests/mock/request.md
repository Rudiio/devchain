The rules of the game 2048 are as follows: Control all blocks to move in one direction at a time. If there are two numbers that are the same, they will merge (ie, get the sum). After each operation, a 2 or 4 will be randomly generated in an empty square. If the player creates a 2048 block, they win the game. If all 100 squares (10x10) are filled and cannot be merged, the game ends. Players can choose four directions: up, down, left, or right. If the numbers on the board shift or merge, it is considered a valid move. If there are the same numbers on the direction chosen, they will merge. Each valid move can merge at the same time, but continuous merging is not allowed. The sum of all newly generated numbers from merging is the effective score for that move. If there are empty spaces in the direction chosen or in the row or column ahead, a random number (which can still be 2 or 4) will appear. If the board is filled with numbers and no valid moves can be made, the player loses and the game ends. If a 2048 block appears on the board, the player wins and the game ends. Implement this game in python with pygame.